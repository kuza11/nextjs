"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/persons/logs/[id]";
exports.ids = ["pages/api/persons/logs/[id]"];
exports.modules = {

/***/ "sqlite3":
/*!**************************!*\
  !*** external "sqlite3" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("sqlite3");

/***/ }),

/***/ "sqlite":
/*!*************************!*\
  !*** external "sqlite" ***!
  \*************************/
/***/ ((module) => {

module.exports = import("sqlite");;

/***/ }),

/***/ "(api)/./DB_functions/DB_log_funcs.ts":
/*!**************************************!*\
  !*** ./DB_functions/DB_log_funcs.ts ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"insertDB\": () => (/* binding */ insertDB),\n/* harmony export */   \"readDB\": () => (/* binding */ readDB)\n/* harmony export */ });\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sqlite3 */ \"sqlite3\");\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sqlite3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sqlite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sqlite */ \"sqlite\");\n/* harmony import */ var _config_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config.json */ \"(api)/./config.json\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([sqlite__WEBPACK_IMPORTED_MODULE_1__]);\nsqlite__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nasync function readDB({ table  }, { persons_id , sort  }) {\n    const db = await openDB();\n    let cmplt = [];\n    let logsArr = await db.all(`SELECT logs.id, logs.name, logs.description, logs.time, logs.date, logs.rating, logs.persons_id, persons.username, languages.name as lang_name from ${table} INNER JOIN languages on logs.languages_id=languages.id INNER JOIN persons on logs.persons_id=persons.id WHERE persons.id = ? ${sort.by ? `ORDER BY ${sort.by} ${sort.order ? sort.order : \"\"}` : \"\"};`, [\n        persons_id\n    ]);\n    for(let i = 0; i < logsArr.length; i++){\n        cmplt.push({\n            log: logsArr[i],\n            tags: await db.all(`SELECT tags.id, tags.name, tags.description, tags.color FROM tags_assignment INNER JOIN tags on tags.id=tags_assignment.tags_id WHERE tags_assignment.logs_id = ?;`, [\n                logsArr[i].id\n            ])\n        });\n    }\n    return cmplt;\n}\nasync function insertDB({ table  }, { name , description , time , date , persons_id , language , tags , tags_id  }) {\n    let resultTag;\n    const db = await openDB();\n    const resultLog = await db.run(`INSERT INTO ${table} (languages_id) SELECT languages.id FROM languages WHERE languages.name = ?;`, [\n        language\n    ]);\n    await db.run(`UPDATE ${table} set name = ?, description = ?, time = ?, date = ?, persons_id = ? WHERE id = ?;`, [\n        name,\n        description,\n        time,\n        date,\n        persons_id,\n        resultLog.lastID\n    ]);\n    await db.run(`INSERT INTO tags_assignment (logs_id, tags_id)`);\n    if (tags) {\n        let Aarr = [];\n        let cmdC = crtCmd(tags);\n        resultTag = await db.run(cmdC.Tcmd, cmdC.Tarr);\n        if (!resultTag.lastID || !resultLog.lastID) return \"e\";\n        for(let i = 0; i < tags.length; i++){\n            Aarr.push(resultLog.lastID, resultTag.lastID - i);\n        }\n        await db.run(cmdC.Acmd, Aarr);\n    }\n    if (tags_id) {\n        let Aarr1 = [];\n        let cmd = crtTAcmd(tags_id);\n        if (!resultLog.lastID) return \"e\";\n        for(let i1 = 0; i1 < tags_id.length; i1++){\n            Aarr1.push(resultLog.lastID, tags_id[i1]);\n        }\n        await db.run(cmd, Aarr1);\n    }\n}\nasync function openDB() {\n    return (0,sqlite__WEBPACK_IMPORTED_MODULE_1__.open)({\n        filename: \"./\" + _config_json__WEBPACK_IMPORTED_MODULE_2__.databaseName,\n        driver: (sqlite3__WEBPACK_IMPORTED_MODULE_0___default().Database)\n    });\n}\nfunction crtCmd(tags) {\n    let Tcmd = \"INSERT INTO tags (name, color, description) VALUES \";\n    let Acmd = \"INSERT INTO tags_assignment (logs_id, tags_id) VALUES \";\n    let Tarr = [];\n    tags.forEach((tag)=>{\n        Tcmd += \"(?,?,?)\";\n        Acmd += \"(?,?)\";\n        Tarr.push(tag.name, tag.color, tag.description);\n    });\n    Tcmd += \";\";\n    return {\n        Tarr,\n        Tcmd,\n        Acmd\n    };\n}\nfunction crtTAcmd(tags) {\n    let cmd = \"INSERT INTO tags_assignment (logs_id, tags_id) VALUES \";\n    tags.forEach((tag)=>{\n        cmd += \"(?,?)\";\n    });\n    return cmd;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9EQl9mdW5jdGlvbnMvREJfbG9nX2Z1bmNzLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUE4QjtBQUNTO0FBQ0E7QUFFaEMsZUFBZUcsT0FBTyxFQUFFQyxNQUFLLEVBQWtCLEVBQUUsRUFBRUMsV0FBVSxFQUFFQyxLQUFJLEVBQWdILEVBQUU7SUFDMUwsTUFBTUMsS0FBSyxNQUFNQztJQUNqQixJQUFJQyxRQUFRLEVBQUU7SUFDZCxJQUFJQyxVQUFVLE1BQU1ILEdBQUdJLEdBQUcsQ0FBQyxDQUFDLG9KQUFvSixFQUFFUCxNQUFNLDhIQUE4SCxFQUFFRSxLQUFLTSxFQUFFLEdBQUcsQ0FBQyxTQUFTLEVBQUVOLEtBQUtNLEVBQUUsQ0FBQyxDQUFDLEVBQUVOLEtBQUtPLEtBQUssR0FBR1AsS0FBS08sS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFO1FBQUNSO0tBQVc7SUFDN1ksSUFBSyxJQUFJUyxJQUFJLEdBQUdBLElBQUlKLFFBQVFLLE1BQU0sRUFBRUQsSUFBSztRQUN2Q0wsTUFBTU8sSUFBSSxDQUFDO1lBQUNDLEtBQUtQLE9BQU8sQ0FBQ0ksRUFBRTtZQUFFSSxNQUFNLE1BQU1YLEdBQUdJLEdBQUcsQ0FBQyxDQUFDLGtLQUFrSyxDQUFDLEVBQUU7Z0JBQUNELE9BQU8sQ0FBQ0ksRUFBRSxDQUFDSyxFQUFFO2FBQUM7UUFBQztJQUV4TztJQUNBLE9BQU9WO0FBQ1QsQ0FBQztBQUVNLGVBQWVXLFNBQVMsRUFBRWhCLE1BQUssRUFBa0IsRUFBRSxFQUFFaUIsS0FBSSxFQUFFQyxZQUFXLEVBQUVDLEtBQUksRUFBRUMsS0FBSSxFQUFFbkIsV0FBVSxFQUFFb0IsU0FBUSxFQUFFUCxLQUFJLEVBQUVRLFFBQU8sRUFBaUIsRUFBRTtJQUMvSSxJQUFJQztJQUNKLE1BQU1wQixLQUFLLE1BQU1DO0lBQ2pCLE1BQU1vQixZQUFZLE1BQU1yQixHQUFHc0IsR0FBRyxDQUFDLENBQUMsWUFBWSxFQUFFekIsTUFBTSw0RUFBNEUsQ0FBQyxFQUFFO1FBQUNxQjtLQUFTO0lBQzdJLE1BQU1sQixHQUFHc0IsR0FBRyxDQUFDLENBQUMsT0FBTyxFQUFFekIsTUFBTSxnRkFBZ0YsQ0FBQyxFQUFFO1FBQUNpQjtRQUFNQztRQUFhQztRQUFNQztRQUFNbkI7UUFBWXVCLFVBQVVFLE1BQU07S0FBQztJQUM3SyxNQUFNdkIsR0FBR3NCLEdBQUcsQ0FBQyxDQUFDLDhDQUE4QyxDQUFDO0lBQzdELElBQUdYLE1BQUs7UUFDTixJQUFJYSxPQUFpQixFQUFFO1FBQ3ZCLElBQUlDLE9BQU9DLE9BQU9mO1FBQ2xCUyxZQUFZLE1BQU1wQixHQUFHc0IsR0FBRyxDQUFDRyxLQUFLRSxJQUFJLEVBQUVGLEtBQUtHLElBQUk7UUFDN0MsSUFBRyxDQUFDUixVQUFVRyxNQUFNLElBQUksQ0FBQ0YsVUFBVUUsTUFBTSxFQUFFLE9BQU87UUFDbEQsSUFBSyxJQUFJaEIsSUFBSSxHQUFHQSxJQUFJSSxLQUFLSCxNQUFNLEVBQUVELElBQUs7WUFDcENpQixLQUFLZixJQUFJLENBQUNZLFVBQVVFLE1BQU0sRUFBRUgsVUFBVUcsTUFBTSxHQUFHaEI7UUFDakQ7UUFDQSxNQUFNUCxHQUFHc0IsR0FBRyxDQUFDRyxLQUFLSSxJQUFJLEVBQUVMO0lBQzFCLENBQUM7SUFDRCxJQUFHTCxTQUFRO1FBQ1QsSUFBSUssUUFBaUIsRUFBRTtRQUN2QixJQUFJTSxNQUFNQyxTQUFTWjtRQUNuQixJQUFHLENBQUNFLFVBQVVFLE1BQU0sRUFBRSxPQUFPO1FBQzdCLElBQUssSUFBSWhCLEtBQUksR0FBR0EsS0FBSVksUUFBUVgsTUFBTSxFQUFFRCxLQUFLO1lBQ3ZDaUIsTUFBS2YsSUFBSSxDQUFDWSxVQUFVRSxNQUFNLEVBQUVKLE9BQU8sQ0FBQ1osR0FBRTtRQUN4QztRQUNBLE1BQU1QLEdBQUdzQixHQUFHLENBQUNRLEtBQUtOO0lBQ3BCLENBQUM7QUFDSCxDQUFDO0FBRUQsZUFBZXZCLFNBQVM7SUFDdEIsT0FBT1AsNENBQUlBLENBQUM7UUFDVnNDLFVBQVUsT0FBT3JDLHNEQUFzQjtRQUN2Q3VDLFFBQVF6Qyx5REFBZ0I7SUFDMUI7QUFDRjtBQUVBLFNBQVNpQyxPQUFPZixJQUEwRCxFQUFDO0lBQ3pFLElBQUlnQixPQUFPO0lBQ1gsSUFBSUUsT0FBTztJQUNYLElBQUlELE9BQWlCLEVBQUU7SUFDdkJqQixLQUFLeUIsT0FBTyxDQUFDLENBQUNDLE1BQU07UUFDbEJWLFFBQVE7UUFDUkUsUUFBUTtRQUNSRCxLQUFLbkIsSUFBSSxDQUFDNEIsSUFBSXZCLElBQUksRUFBRXVCLElBQUlDLEtBQUssRUFBRUQsSUFBSXRCLFdBQVc7SUFDaEQ7SUFDQVksUUFBUTtJQUNSLE9BQU87UUFBQ0M7UUFBTUQ7UUFBTUU7SUFBSztBQUMzQjtBQUVBLFNBQVNFLFNBQVNwQixJQUFhLEVBQUM7SUFDOUIsSUFBSW1CLE1BQU07SUFDVm5CLEtBQUt5QixPQUFPLENBQUMsQ0FBQ0MsTUFBUTtRQUNwQlAsT0FBTztJQUNUO0lBQ0EsT0FBT0E7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QvLi9EQl9mdW5jdGlvbnMvREJfbG9nX2Z1bmNzLnRzPzg0ODUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNxbGl0ZTMgZnJvbSBcInNxbGl0ZTNcIjtcclxuaW1wb3J0IHsgSVNxbGl0ZSwgb3BlbiB9IGZyb20gXCJzcWxpdGVcIjtcclxuaW1wb3J0IGRlZlZhbHVlcyBmcm9tIFwiLi4vY29uZmlnLmpzb25cIjtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWFkREIoeyB0YWJsZSB9OiBmdW5jdGlvblBhcmFtcywgeyBwZXJzb25zX2lkLCBzb3J0fToge3BlcnNvbnNfaWQgOiBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZCwgc29ydDoge2J5PzogXCJ0aW1lXCIgfCBcInJhdGluZ1wiIHwgXCJkYXRlXCIsIG9yZGVyPzogXCJhc2NcIiB8IFwiZGVzY1wifX0pIHtcclxuICBjb25zdCBkYiA9IGF3YWl0IG9wZW5EQigpO1xyXG4gIGxldCBjbXBsdCA9IFtdO1xyXG4gIGxldCBsb2dzQXJyID0gYXdhaXQgZGIuYWxsKGBTRUxFQ1QgbG9ncy5pZCwgbG9ncy5uYW1lLCBsb2dzLmRlc2NyaXB0aW9uLCBsb2dzLnRpbWUsIGxvZ3MuZGF0ZSwgbG9ncy5yYXRpbmcsIGxvZ3MucGVyc29uc19pZCwgcGVyc29ucy51c2VybmFtZSwgbGFuZ3VhZ2VzLm5hbWUgYXMgbGFuZ19uYW1lIGZyb20gJHt0YWJsZX0gSU5ORVIgSk9JTiBsYW5ndWFnZXMgb24gbG9ncy5sYW5ndWFnZXNfaWQ9bGFuZ3VhZ2VzLmlkIElOTkVSIEpPSU4gcGVyc29ucyBvbiBsb2dzLnBlcnNvbnNfaWQ9cGVyc29ucy5pZCBXSEVSRSBwZXJzb25zLmlkID0gPyAke3NvcnQuYnkgPyBgT1JERVIgQlkgJHtzb3J0LmJ5fSAke3NvcnQub3JkZXIgPyBzb3J0Lm9yZGVyIDogJyd9YCA6ICcnfTtgLCBbcGVyc29uc19pZF0pO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbG9nc0Fyci5sZW5ndGg7IGkrKykge1xyXG4gICAgY21wbHQucHVzaCh7bG9nOiBsb2dzQXJyW2ldLCB0YWdzOiBhd2FpdCBkYi5hbGwoYFNFTEVDVCB0YWdzLmlkLCB0YWdzLm5hbWUsIHRhZ3MuZGVzY3JpcHRpb24sIHRhZ3MuY29sb3IgRlJPTSB0YWdzX2Fzc2lnbm1lbnQgSU5ORVIgSk9JTiB0YWdzIG9uIHRhZ3MuaWQ9dGFnc19hc3NpZ25tZW50LnRhZ3NfaWQgV0hFUkUgdGFnc19hc3NpZ25tZW50LmxvZ3NfaWQgPSA/O2AsIFtsb2dzQXJyW2ldLmlkXSl9KTtcclxuICAgIFxyXG4gIH1cclxuICByZXR1cm4gY21wbHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbnNlcnREQih7IHRhYmxlIH06IGZ1bmN0aW9uUGFyYW1zLCB7IG5hbWUsIGRlc2NyaXB0aW9uLCB0aW1lLCBkYXRlLCBwZXJzb25zX2lkLCBsYW5ndWFnZSwgdGFncywgdGFnc19pZH0gOiB3cml0ZURCcGFyYW1zKSB7XHJcbiAgbGV0IHJlc3VsdFRhZzogSVNxbGl0ZS5SdW5SZXN1bHQ7XHJcbiAgY29uc3QgZGIgPSBhd2FpdCBvcGVuREIoKTtcclxuICBjb25zdCByZXN1bHRMb2cgPSBhd2FpdCBkYi5ydW4oYElOU0VSVCBJTlRPICR7dGFibGV9IChsYW5ndWFnZXNfaWQpIFNFTEVDVCBsYW5ndWFnZXMuaWQgRlJPTSBsYW5ndWFnZXMgV0hFUkUgbGFuZ3VhZ2VzLm5hbWUgPSA/O2AsIFtsYW5ndWFnZV0pO1xyXG4gIGF3YWl0IGRiLnJ1bihgVVBEQVRFICR7dGFibGV9IHNldCBuYW1lID0gPywgZGVzY3JpcHRpb24gPSA/LCB0aW1lID0gPywgZGF0ZSA9ID8sIHBlcnNvbnNfaWQgPSA/IFdIRVJFIGlkID0gPztgLCBbbmFtZSwgZGVzY3JpcHRpb24sIHRpbWUsIGRhdGUsIHBlcnNvbnNfaWQsIHJlc3VsdExvZy5sYXN0SURdKTtcclxuICBhd2FpdCBkYi5ydW4oYElOU0VSVCBJTlRPIHRhZ3NfYXNzaWdubWVudCAobG9nc19pZCwgdGFnc19pZClgKTtcclxuICBpZih0YWdzKXtcclxuICAgIGxldCBBYXJyOiBudW1iZXJbXSA9IFtdO1xyXG4gICAgbGV0IGNtZEMgPSBjcnRDbWQodGFncyk7XHJcbiAgICByZXN1bHRUYWcgPSBhd2FpdCBkYi5ydW4oY21kQy5UY21kLCBjbWRDLlRhcnIpO1xyXG4gICAgaWYoIXJlc3VsdFRhZy5sYXN0SUQgfHwgIXJlc3VsdExvZy5sYXN0SUQpIHJldHVybiBcImVcIjtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBBYXJyLnB1c2gocmVzdWx0TG9nLmxhc3RJRCwgcmVzdWx0VGFnLmxhc3RJRCAtIGkpO1xyXG4gICAgfVxyXG4gICAgYXdhaXQgZGIucnVuKGNtZEMuQWNtZCwgQWFycik7XHJcbiAgfVxyXG4gIGlmKHRhZ3NfaWQpe1xyXG4gICAgbGV0IEFhcnI6IG51bWJlcltdID0gW107XHJcbiAgICBsZXQgY21kID0gY3J0VEFjbWQodGFnc19pZCk7XHJcbiAgICBpZighcmVzdWx0TG9nLmxhc3RJRCkgcmV0dXJuIFwiZVwiO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YWdzX2lkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIEFhcnIucHVzaChyZXN1bHRMb2cubGFzdElELCB0YWdzX2lkW2ldKTtcclxuICAgIH1cclxuICAgIGF3YWl0IGRiLnJ1bihjbWQsIEFhcnIpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gb3BlbkRCKCkge1xyXG4gIHJldHVybiBvcGVuKHtcclxuICAgIGZpbGVuYW1lOiBcIi4vXCIgKyBkZWZWYWx1ZXMuZGF0YWJhc2VOYW1lLFxyXG4gICAgZHJpdmVyOiBzcWxpdGUzLkRhdGFiYXNlLFxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcnRDbWQodGFnczogW3tuYW1lOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcsIGNvbG9yOiBzdHJpbmd9XSl7XHJcbiAgbGV0IFRjbWQgPSBcIklOU0VSVCBJTlRPIHRhZ3MgKG5hbWUsIGNvbG9yLCBkZXNjcmlwdGlvbikgVkFMVUVTIFwiO1xyXG4gIGxldCBBY21kID0gXCJJTlNFUlQgSU5UTyB0YWdzX2Fzc2lnbm1lbnQgKGxvZ3NfaWQsIHRhZ3NfaWQpIFZBTFVFUyBcIjtcclxuICBsZXQgVGFycjogc3RyaW5nW10gPSBbXTtcclxuICB0YWdzLmZvckVhY2goKHRhZyk9PntcclxuICAgIFRjbWQgKz0gXCIoPyw/LD8pXCI7XHJcbiAgICBBY21kICs9IFwiKD8sPylcIjtcclxuICAgIFRhcnIucHVzaCh0YWcubmFtZSwgdGFnLmNvbG9yLCB0YWcuZGVzY3JpcHRpb24pO1xyXG4gIH0pO1xyXG4gIFRjbWQgKz0gXCI7XCI7XHJcbiAgcmV0dXJuIHtUYXJyLCBUY21kLCBBY21kIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNydFRBY21kKHRhZ3M6bnVtYmVyW10pe1xyXG4gIGxldCBjbWQgPSBcIklOU0VSVCBJTlRPIHRhZ3NfYXNzaWdubWVudCAobG9nc19pZCwgdGFnc19pZCkgVkFMVUVTIFwiO1xyXG4gIHRhZ3MuZm9yRWFjaCgodGFnKSA9PiB7XHJcbiAgICBjbWQgKz0gXCIoPyw/KVwiO1xyXG4gIH0pO1xyXG4gIHJldHVybiBjbWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgZnVuY3Rpb25QYXJhbXMge1xyXG4gIHRhYmxlOiBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZDtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSB3cml0ZURCcGFyYW1ze1xyXG4gIG5hbWU6IHN0cmluZyB8IHN0cmluZ1tdIHwgdW5kZWZpbmVkO1xyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZDtcclxuICB0aW1lOiBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZDtcclxuICBkYXRlOiBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZDtcclxuICBwZXJzb25zX2lkOiBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZDtcclxuICBsYW5ndWFnZTogc3RyaW5nIHwgc3RyaW5nW10gfCB1bmRlZmluZWQ7XHJcbiAgdGFncz86IFt7bmFtZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nLCBjb2xvcjogc3RyaW5nfV07XHJcbiAgdGFnc19pZD86IG51bWJlcltdO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJzcWxpdGUzIiwib3BlbiIsImRlZlZhbHVlcyIsInJlYWREQiIsInRhYmxlIiwicGVyc29uc19pZCIsInNvcnQiLCJkYiIsIm9wZW5EQiIsImNtcGx0IiwibG9nc0FyciIsImFsbCIsImJ5Iiwib3JkZXIiLCJpIiwibGVuZ3RoIiwicHVzaCIsImxvZyIsInRhZ3MiLCJpZCIsImluc2VydERCIiwibmFtZSIsImRlc2NyaXB0aW9uIiwidGltZSIsImRhdGUiLCJsYW5ndWFnZSIsInRhZ3NfaWQiLCJyZXN1bHRUYWciLCJyZXN1bHRMb2ciLCJydW4iLCJsYXN0SUQiLCJBYXJyIiwiY21kQyIsImNydENtZCIsIlRjbWQiLCJUYXJyIiwiQWNtZCIsImNtZCIsImNydFRBY21kIiwiZmlsZW5hbWUiLCJkYXRhYmFzZU5hbWUiLCJkcml2ZXIiLCJEYXRhYmFzZSIsImZvckVhY2giLCJ0YWciLCJjb2xvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./DB_functions/DB_log_funcs.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/persons/logs/[id]/index.exp.ts":
/*!******************************************************!*\
  !*** ./src/pages/api/persons/logs/[id]/index.exp.ts ***!
  \******************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RWllogs)\n/* harmony export */ });\n/* harmony import */ var _DB_functions_DB_log_funcs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../DB_functions/DB_log_funcs */ \"(api)/./DB_functions/DB_log_funcs.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_DB_functions_DB_log_funcs__WEBPACK_IMPORTED_MODULE_0__]);\n_DB_functions_DB_log_funcs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nasync function RWllogs(req, res) {\n    if (req.method === \"GET\") {\n        let sort = req.query.sort;\n        let order = req.query.order;\n        if (order != \"asc\" && order != \"desc\") order = undefined;\n        if (sort != \"time\" && sort != \"rating\" && sort != \"date\") sort = undefined;\n        const data = await (0,_DB_functions_DB_log_funcs__WEBPACK_IMPORTED_MODULE_0__.readDB)({\n            table: \"logs\"\n        }, {\n            persons_id: req.query.id,\n            sort: {\n                by: sort,\n                order: order\n            }\n        });\n        if (data) res.status(201).json(data);\n        else res.status(400).json({\n            message: \"error\"\n        });\n    } else if (req.method === \"\") {} else {\n        res.status(405).json({\n            message: \"Method Not Allowed\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL3BlcnNvbnMvbG9ncy9baWRdL2luZGV4LmV4cC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUMrRTtBQUVoRSxlQUFlQyxRQUM1QkMsR0FBbUIsRUFDbkJDLEdBQW9CLEVBQ3BCO0lBQ0YsSUFBR0QsSUFBSUUsTUFBTSxLQUFLLE9BQU07UUFDdEIsSUFBSUMsT0FBT0gsSUFBSUksS0FBSyxDQUFDRCxJQUFJO1FBQ3pCLElBQUlFLFFBQVFMLElBQUlJLEtBQUssQ0FBQ0MsS0FBSztRQUMzQixJQUFHQSxTQUFTLFNBQVNBLFNBQVMsUUFBUUEsUUFBUUM7UUFDOUMsSUFBR0gsUUFBUSxVQUFVQSxRQUFRLFlBQVlBLFFBQU8sUUFBUUEsT0FBT0c7UUFDN0QsTUFBTUMsT0FBTyxNQUFNVCxrRUFBTUEsQ0FBQztZQUFDVSxPQUFPO1FBQU0sR0FBRztZQUFDQyxZQUFZVCxJQUFJSSxLQUFLLENBQUNNLEVBQUU7WUFBRVAsTUFBTTtnQkFBQ1EsSUFBSVI7Z0JBQU1FLE9BQU9BO1lBQUs7UUFBQztRQUNwRyxJQUFHRSxNQUFNTixJQUFJVyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDTjthQUN6Qk4sSUFBSVcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFDQyxTQUFTO1FBQU87SUFDN0MsT0FBTSxJQUFHZCxJQUFJRSxNQUFNLEtBQUssSUFBRyxDQUUzQixPQUFLO1FBQ0hELElBQUlXLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsU0FBUztRQUFxQjtJQUN2RCxDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QvLi9zcmMvcGFnZXMvYXBpL3BlcnNvbnMvbG9ncy9baWRdL2luZGV4LmV4cC50cz8xNDMyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tIFwibmV4dFwiO1xyXG5pbXBvcnQgeyBpbnNlcnREQiwgcmVhZERCIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uLy4uL0RCX2Z1bmN0aW9ucy9EQl9sb2dfZnVuY3NcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIFJXbGxvZ3MoXHJcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcclxuICByZXM6IE5leHRBcGlSZXNwb25zZVxyXG4pIHtcclxuaWYocmVxLm1ldGhvZCA9PT0gXCJHRVRcIil7XHJcbiAgbGV0IHNvcnQgPSByZXEucXVlcnkuc29ydDtcclxuICBsZXQgb3JkZXIgPSByZXEucXVlcnkub3JkZXI7XHJcbiAgaWYob3JkZXIgIT0gXCJhc2NcIiAmJiBvcmRlciAhPSBcImRlc2NcIikgb3JkZXIgPSB1bmRlZmluZWQ7XHJcbiAgaWYoc29ydCAhPSBcInRpbWVcIiAmJiBzb3J0ICE9IFwicmF0aW5nXCIgJiYgc29ydCAhPVwiZGF0ZVwiKSBzb3J0ID0gdW5kZWZpbmVkO1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlYWREQih7dGFibGU6IFwibG9nc1wifSwge3BlcnNvbnNfaWQ6IHJlcS5xdWVyeS5pZCwgc29ydDoge2J5OiBzb3J0LCBvcmRlcjogb3JkZXJ9fSk7XHJcbiAgICBpZihkYXRhKSByZXMuc3RhdHVzKDIwMSkuanNvbihkYXRhKTtcclxuICAgIGVsc2UgcmVzLnN0YXR1cyg0MDApLmpzb24oe21lc3NhZ2U6IFwiZXJyb3JcIn0pO1xyXG4gIH1lbHNlIGlmKHJlcS5tZXRob2QgPT09IFwiXCIpe1xyXG5cclxuICB9ZWxzZXtcclxuICAgIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgbWVzc2FnZTogXCJNZXRob2QgTm90IEFsbG93ZWRcIiB9KTtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsicmVhZERCIiwiUldsbG9ncyIsInJlcSIsInJlcyIsIm1ldGhvZCIsInNvcnQiLCJxdWVyeSIsIm9yZGVyIiwidW5kZWZpbmVkIiwiZGF0YSIsInRhYmxlIiwicGVyc29uc19pZCIsImlkIiwiYnkiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/persons/logs/[id]/index.exp.ts\n");

/***/ }),

/***/ "(api)/./config.json":
/*!*********************!*\
  !*** ./config.json ***!
  \*********************/
/***/ ((module) => {

module.exports = JSON.parse('{"databaseName":"mydb.sqlite"}');

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./src/pages/api/persons/logs/[id]/index.exp.ts"));
module.exports = __webpack_exports__;

})();