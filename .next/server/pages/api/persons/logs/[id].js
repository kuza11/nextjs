"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/persons/logs/[id]";
exports.ids = ["pages/api/persons/logs/[id]"];
exports.modules = {

/***/ "sqlite3":
/*!**************************!*\
  !*** external "sqlite3" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("sqlite3");

/***/ }),

/***/ "sqlite":
/*!*************************!*\
  !*** external "sqlite" ***!
  \*************************/
/***/ ((module) => {

module.exports = import("sqlite");;

/***/ }),

/***/ "(api)/./DB_functions/DB_log_funcs.ts":
/*!**************************************!*\
  !*** ./DB_functions/DB_log_funcs.ts ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"insertDB\": () => (/* binding */ insertDB),\n/* harmony export */   \"readDB\": () => (/* binding */ readDB)\n/* harmony export */ });\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sqlite3 */ \"sqlite3\");\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sqlite3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sqlite__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sqlite */ \"sqlite\");\n/* harmony import */ var _config_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config.json */ \"(api)/./config.json\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([sqlite__WEBPACK_IMPORTED_MODULE_1__]);\nsqlite__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nasync function readDB({ table  }, { persons_id , sort  }) {\n    const db = await openDB();\n    let cmplt = [];\n    let logsArr = await db.all(`SELECT logs.id, logs.name, logs.description, logs.time, logs.date, logs.rating, logs.persons_id, persons.username, languages.name as lang_name from ${table} INNER JOIN languages on logs.languages_id=languages.id INNER JOIN persons on logs.persons_id=persons.id WHERE persons.id = ? ${sort.by ? `ORDER BY ${sort.by} ${sort.order ? sort.order : \"\"}` : \"\"};`, [\n        persons_id\n    ]);\n    for(let i = 0; i < logsArr.length; i++){\n        cmplt.push({\n            log: logsArr[i],\n            tags: await db.all(`SELECT tags.id, tags.name, tags.description, tags.color FROM tags_assignment INNER JOIN tags on tags.id=tags_assignment.tags_id WHERE tags_assignment.logs_id = ?;`, [\n                logsArr[i].id\n            ])\n        });\n    }\n    return cmplt;\n}\nasync function insertDB({ table  }, { name , description , time , date , rating , persons_id , language , tags , tags_id  }) {\n    const db = await openDB();\n    console.log(language);\n    const resultLog = await db.run(`INSERT INTO ${table} (languages_id) SELECT languages.id FROM languages WHERE languages.name = ?;`, [\n        language\n    ]);\n    const result = await db.run(`UPDATE ${table} set name = ?, description = ?, time = ?, date = ?, rating = ?, persons_id = ? WHERE id = ?;`, [\n        name,\n        description,\n        time,\n        date,\n        rating,\n        persons_id,\n        resultLog.lastID\n    ]);\n    await db.run(`INSERT INTO tags_assignment (logs_id, tags_id)`);\n    if (!result.lastID || !resultLog.lastID) return 1;\n    if (tags) {\n        let Aarr = [];\n        let cmdC = crtCmd(tags);\n        const resultTag = await db.run(cmdC.Tcmd, cmdC.Tarr);\n        if (!resultTag.lastID) return 1;\n        for(let i = 0; i < tags.length; i++){\n            Aarr.push(resultLog.lastID, resultTag.lastID - i);\n        }\n        await db.run(cmdC.Acmd, Aarr);\n    }\n    if (tags_id) {\n        let Aarr1 = [];\n        let cmd = crtTAcmd(tags_id);\n        for(let i1 = 0; i1 < tags_id.length; i1++){\n            Aarr1.push(resultLog.lastID, tags_id[i1]);\n        }\n        await db.run(cmd, Aarr1);\n    }\n    return resultLog;\n}\nasync function openDB() {\n    return (0,sqlite__WEBPACK_IMPORTED_MODULE_1__.open)({\n        filename: \"./\" + _config_json__WEBPACK_IMPORTED_MODULE_2__.databaseName,\n        driver: (sqlite3__WEBPACK_IMPORTED_MODULE_0___default().Database)\n    });\n}\nfunction crtCmd(tags) {\n    let Tcmd = \"INSERT INTO tags (name, color, description) VALUES \";\n    let Acmd = \"INSERT INTO tags_assignment (logs_id, tags_id) VALUES \";\n    let Tarr = [];\n    tags.forEach((tag)=>{\n        Tcmd += \"(?,?,?)\";\n        Acmd += \"(?,?)\";\n        Tarr.push(tag.name, tag.color, tag.description);\n    });\n    Tcmd += \";\";\n    return {\n        Tarr,\n        Tcmd,\n        Acmd\n    };\n}\nfunction crtTAcmd(tags) {\n    let cmd = \"INSERT INTO tags_assignment (logs_id, tags_id) VALUES \";\n    tags.forEach((tag)=>{\n        cmd += \"(?,?)\";\n    });\n    return cmd;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9EQl9mdW5jdGlvbnMvREJfbG9nX2Z1bmNzLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUE4QjtBQUNTO0FBQ0E7QUFFaEMsZUFBZUcsT0FBTyxFQUFFQyxNQUFLLEVBQWtCLEVBQUUsRUFBRUMsV0FBVSxFQUFFQyxLQUFJLEVBQWtILEVBQUU7SUFDNUwsTUFBTUMsS0FBSyxNQUFNQztJQUNqQixJQUFJQyxRQUFRLEVBQUU7SUFDZCxJQUFJQyxVQUFVLE1BQU1ILEdBQUdJLEdBQUcsQ0FBQyxDQUFDLG9KQUFvSixFQUFFUCxNQUFNLDhIQUE4SCxFQUFFRSxLQUFLTSxFQUFFLEdBQUcsQ0FBQyxTQUFTLEVBQUVOLEtBQUtNLEVBQUUsQ0FBQyxDQUFDLEVBQUVOLEtBQUtPLEtBQUssR0FBR1AsS0FBS08sS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFO1FBQUNSO0tBQVc7SUFDN1ksSUFBSyxJQUFJUyxJQUFJLEdBQUdBLElBQUlKLFFBQVFLLE1BQU0sRUFBRUQsSUFBSztRQUN2Q0wsTUFBTU8sSUFBSSxDQUFDO1lBQUNDLEtBQUtQLE9BQU8sQ0FBQ0ksRUFBRTtZQUFFSSxNQUFNLE1BQU1YLEdBQUdJLEdBQUcsQ0FBQyxDQUFDLGtLQUFrSyxDQUFDLEVBQUU7Z0JBQUNELE9BQU8sQ0FBQ0ksRUFBRSxDQUFDSyxFQUFFO2FBQUM7UUFBQztJQUV4TztJQUNBLE9BQU9WO0FBQ1QsQ0FBQztBQUVNLGVBQWVXLFNBQVMsRUFBRWhCLE1BQUssRUFBa0IsRUFBRSxFQUFFaUIsS0FBSSxFQUFFQyxZQUFXLEVBQUVDLEtBQUksRUFBRUMsS0FBSSxFQUFFQyxPQUFNLEVBQUVwQixXQUFVLEVBQUVxQixTQUFRLEVBQUVSLEtBQUksRUFBRVMsUUFBTyxFQUFrQixFQUFFO0lBQ3hKLE1BQU1wQixLQUFLLE1BQU1DO0lBQ2pCb0IsUUFBUVgsR0FBRyxDQUFDUztJQUNaLE1BQU1HLFlBQVksTUFBTXRCLEdBQUd1QixHQUFHLENBQUMsQ0FBQyxZQUFZLEVBQUUxQixNQUFNLDRFQUE0RSxDQUFDLEVBQUU7UUFBQ3NCO0tBQVM7SUFDN0ksTUFBTUssU0FBUyxNQUFNeEIsR0FBR3VCLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRTFCLE1BQU0sNEZBQTRGLENBQUMsRUFBRTtRQUFDaUI7UUFBTUM7UUFBYUM7UUFBTUM7UUFBTUM7UUFBUXBCO1FBQVl3QixVQUFVRyxNQUFNO0tBQUM7SUFDaE4sTUFBTXpCLEdBQUd1QixHQUFHLENBQUMsQ0FBQyw4Q0FBOEMsQ0FBQztJQUM3RCxJQUFHLENBQUNDLE9BQU9DLE1BQU0sSUFBSSxDQUFDSCxVQUFVRyxNQUFNLEVBQUUsT0FBTztJQUMvQyxJQUFHZCxNQUFLO1FBQ04sSUFBSWUsT0FBaUIsRUFBRTtRQUN2QixJQUFJQyxPQUFPQyxPQUFPakI7UUFDbEIsTUFBTWtCLFlBQVksTUFBTTdCLEdBQUd1QixHQUFHLENBQUNJLEtBQUtHLElBQUksRUFBRUgsS0FBS0ksSUFBSTtRQUNuRCxJQUFHLENBQUNGLFVBQVVKLE1BQU0sRUFBRSxPQUFPO1FBQzdCLElBQUssSUFBSWxCLElBQUksR0FBR0EsSUFBSUksS0FBS0gsTUFBTSxFQUFFRCxJQUFLO1lBQ3BDbUIsS0FBS2pCLElBQUksQ0FBQ2EsVUFBVUcsTUFBTSxFQUFFSSxVQUFVSixNQUFNLEdBQUdsQjtRQUNqRDtRQUNBLE1BQU1QLEdBQUd1QixHQUFHLENBQUNJLEtBQUtLLElBQUksRUFBRU47SUFDMUIsQ0FBQztJQUNELElBQUdOLFNBQVE7UUFDVCxJQUFJTSxRQUFpQixFQUFFO1FBQ3ZCLElBQUlPLE1BQU1DLFNBQVNkO1FBQ25CLElBQUssSUFBSWIsS0FBSSxHQUFHQSxLQUFJYSxRQUFRWixNQUFNLEVBQUVELEtBQUs7WUFDdkNtQixNQUFLakIsSUFBSSxDQUFDYSxVQUFVRyxNQUFNLEVBQUVMLE9BQU8sQ0FBQ2IsR0FBRTtRQUN4QztRQUNBLE1BQU1QLEdBQUd1QixHQUFHLENBQUNVLEtBQUtQO0lBQ3BCLENBQUM7SUFDRCxPQUFPSjtBQUNULENBQUM7QUFFRCxlQUFlckIsU0FBUztJQUN0QixPQUFPUCw0Q0FBSUEsQ0FBQztRQUNWeUMsVUFBVSxPQUFPeEMsc0RBQXNCO1FBQ3ZDMEMsUUFBUTVDLHlEQUFnQjtJQUMxQjtBQUNGO0FBRUEsU0FBU21DLE9BQU9qQixJQUEwRCxFQUFDO0lBQ3pFLElBQUltQixPQUFPO0lBQ1gsSUFBSUUsT0FBTztJQUNYLElBQUlELE9BQWlCLEVBQUU7SUFDdkJwQixLQUFLNEIsT0FBTyxDQUFDLENBQUNDLE1BQU07UUFDbEJWLFFBQVE7UUFDUkUsUUFBUTtRQUNSRCxLQUFLdEIsSUFBSSxDQUFDK0IsSUFBSTFCLElBQUksRUFBRTBCLElBQUlDLEtBQUssRUFBRUQsSUFBSXpCLFdBQVc7SUFDaEQ7SUFDQWUsUUFBUTtJQUNSLE9BQU87UUFBQ0M7UUFBTUQ7UUFBTUU7SUFBSztBQUMzQjtBQUVBLFNBQVNFLFNBQVN2QixJQUFhLEVBQUM7SUFDOUIsSUFBSXNCLE1BQU07SUFDVnRCLEtBQUs0QixPQUFPLENBQUMsQ0FBQ0MsTUFBUTtRQUNwQlAsT0FBTztJQUNUO0lBQ0EsT0FBT0E7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QvLi9EQl9mdW5jdGlvbnMvREJfbG9nX2Z1bmNzLnRzPzg0ODUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNxbGl0ZTMgZnJvbSBcInNxbGl0ZTNcIjtcclxuaW1wb3J0IHsgSVNxbGl0ZSwgb3BlbiB9IGZyb20gXCJzcWxpdGVcIjtcclxuaW1wb3J0IGRlZlZhbHVlcyBmcm9tIFwiLi4vY29uZmlnLmpzb25cIjtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWFkREIoeyB0YWJsZSB9OiBmdW5jdGlvblBhcmFtcywgeyBwZXJzb25zX2lkLCBzb3J0IH06IHtwZXJzb25zX2lkIDogc3RyaW5nIHwgc3RyaW5nW10gfCB1bmRlZmluZWQsIHNvcnQ6IHtieT86IFwidGltZVwiIHwgXCJyYXRpbmdcIiB8IFwiZGF0ZVwiLCBvcmRlcj86IFwiYXNjXCIgfCBcImRlc2NcIiB9fSkge1xyXG4gIGNvbnN0IGRiID0gYXdhaXQgb3BlbkRCKCk7XHJcbiAgbGV0IGNtcGx0ID0gW107XHJcbiAgbGV0IGxvZ3NBcnIgPSBhd2FpdCBkYi5hbGwoYFNFTEVDVCBsb2dzLmlkLCBsb2dzLm5hbWUsIGxvZ3MuZGVzY3JpcHRpb24sIGxvZ3MudGltZSwgbG9ncy5kYXRlLCBsb2dzLnJhdGluZywgbG9ncy5wZXJzb25zX2lkLCBwZXJzb25zLnVzZXJuYW1lLCBsYW5ndWFnZXMubmFtZSBhcyBsYW5nX25hbWUgZnJvbSAke3RhYmxlfSBJTk5FUiBKT0lOIGxhbmd1YWdlcyBvbiBsb2dzLmxhbmd1YWdlc19pZD1sYW5ndWFnZXMuaWQgSU5ORVIgSk9JTiBwZXJzb25zIG9uIGxvZ3MucGVyc29uc19pZD1wZXJzb25zLmlkIFdIRVJFIHBlcnNvbnMuaWQgPSA/ICR7c29ydC5ieSA/IGBPUkRFUiBCWSAke3NvcnQuYnl9ICR7c29ydC5vcmRlciA/IHNvcnQub3JkZXIgOiAnJ31gIDogJyd9O2AsIFtwZXJzb25zX2lkXSk7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2dzQXJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjbXBsdC5wdXNoKHtsb2c6IGxvZ3NBcnJbaV0sIHRhZ3M6IGF3YWl0IGRiLmFsbChgU0VMRUNUIHRhZ3MuaWQsIHRhZ3MubmFtZSwgdGFncy5kZXNjcmlwdGlvbiwgdGFncy5jb2xvciBGUk9NIHRhZ3NfYXNzaWdubWVudCBJTk5FUiBKT0lOIHRhZ3Mgb24gdGFncy5pZD10YWdzX2Fzc2lnbm1lbnQudGFnc19pZCBXSEVSRSB0YWdzX2Fzc2lnbm1lbnQubG9nc19pZCA9ID87YCwgW2xvZ3NBcnJbaV0uaWRdKX0pO1xyXG4gICAgXHJcbiAgfVxyXG4gIHJldHVybiBjbXBsdDtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluc2VydERCKHsgdGFibGUgfTogZnVuY3Rpb25QYXJhbXMsIHsgbmFtZSwgZGVzY3JpcHRpb24sIHRpbWUsIGRhdGUsIHJhdGluZywgcGVyc29uc19pZCwgbGFuZ3VhZ2UsIHRhZ3MsIHRhZ3NfaWQgfSA6IHdyaXRlREJwYXJhbXMpIHtcclxuICBjb25zdCBkYiA9IGF3YWl0IG9wZW5EQigpO1xyXG4gIGNvbnNvbGUubG9nKGxhbmd1YWdlKTtcclxuICBjb25zdCByZXN1bHRMb2cgPSBhd2FpdCBkYi5ydW4oYElOU0VSVCBJTlRPICR7dGFibGV9IChsYW5ndWFnZXNfaWQpIFNFTEVDVCBsYW5ndWFnZXMuaWQgRlJPTSBsYW5ndWFnZXMgV0hFUkUgbGFuZ3VhZ2VzLm5hbWUgPSA/O2AsIFtsYW5ndWFnZV0pO1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLnJ1bihgVVBEQVRFICR7dGFibGV9IHNldCBuYW1lID0gPywgZGVzY3JpcHRpb24gPSA/LCB0aW1lID0gPywgZGF0ZSA9ID8sIHJhdGluZyA9ID8sIHBlcnNvbnNfaWQgPSA/IFdIRVJFIGlkID0gPztgLCBbbmFtZSwgZGVzY3JpcHRpb24sIHRpbWUsIGRhdGUsIHJhdGluZywgcGVyc29uc19pZCwgcmVzdWx0TG9nLmxhc3RJRF0pO1xyXG4gIGF3YWl0IGRiLnJ1bihgSU5TRVJUIElOVE8gdGFnc19hc3NpZ25tZW50IChsb2dzX2lkLCB0YWdzX2lkKWApO1xyXG4gIGlmKCFyZXN1bHQubGFzdElEIHx8ICFyZXN1bHRMb2cubGFzdElEKSByZXR1cm4gMTtcclxuICBpZih0YWdzKXtcclxuICAgIGxldCBBYXJyOiBudW1iZXJbXSA9IFtdO1xyXG4gICAgbGV0IGNtZEMgPSBjcnRDbWQodGFncyk7XHJcbiAgICBjb25zdCByZXN1bHRUYWcgPSBhd2FpdCBkYi5ydW4oY21kQy5UY21kLCBjbWRDLlRhcnIpO1xyXG4gICAgaWYoIXJlc3VsdFRhZy5sYXN0SUQpIHJldHVybiAxO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YWdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIEFhcnIucHVzaChyZXN1bHRMb2cubGFzdElELCByZXN1bHRUYWcubGFzdElEIC0gaSk7XHJcbiAgICB9XHJcbiAgICBhd2FpdCBkYi5ydW4oY21kQy5BY21kLCBBYXJyKTtcclxuICB9XHJcbiAgaWYodGFnc19pZCl7XHJcbiAgICBsZXQgQWFycjogbnVtYmVyW10gPSBbXTtcclxuICAgIGxldCBjbWQgPSBjcnRUQWNtZCh0YWdzX2lkKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFnc19pZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICBBYXJyLnB1c2gocmVzdWx0TG9nLmxhc3RJRCwgdGFnc19pZFtpXSk7XHJcbiAgICB9XHJcbiAgICBhd2FpdCBkYi5ydW4oY21kLCBBYXJyKTtcclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdExvZztcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gb3BlbkRCKCkge1xyXG4gIHJldHVybiBvcGVuKHtcclxuICAgIGZpbGVuYW1lOiBcIi4vXCIgKyBkZWZWYWx1ZXMuZGF0YWJhc2VOYW1lLFxyXG4gICAgZHJpdmVyOiBzcWxpdGUzLkRhdGFiYXNlLFxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcnRDbWQodGFnczogW3tuYW1lOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcsIGNvbG9yOiBzdHJpbmd9XSl7XHJcbiAgbGV0IFRjbWQgPSBcIklOU0VSVCBJTlRPIHRhZ3MgKG5hbWUsIGNvbG9yLCBkZXNjcmlwdGlvbikgVkFMVUVTIFwiO1xyXG4gIGxldCBBY21kID0gXCJJTlNFUlQgSU5UTyB0YWdzX2Fzc2lnbm1lbnQgKGxvZ3NfaWQsIHRhZ3NfaWQpIFZBTFVFUyBcIjtcclxuICBsZXQgVGFycjogc3RyaW5nW10gPSBbXTtcclxuICB0YWdzLmZvckVhY2goKHRhZyk9PntcclxuICAgIFRjbWQgKz0gXCIoPyw/LD8pXCI7XHJcbiAgICBBY21kICs9IFwiKD8sPylcIjtcclxuICAgIFRhcnIucHVzaCh0YWcubmFtZSwgdGFnLmNvbG9yLCB0YWcuZGVzY3JpcHRpb24pO1xyXG4gIH0pO1xyXG4gIFRjbWQgKz0gXCI7XCI7XHJcbiAgcmV0dXJuIHtUYXJyLCBUY21kLCBBY21kIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNydFRBY21kKHRhZ3M6bnVtYmVyW10pe1xyXG4gIGxldCBjbWQgPSBcIklOU0VSVCBJTlRPIHRhZ3NfYXNzaWdubWVudCAobG9nc19pZCwgdGFnc19pZCkgVkFMVUVTIFwiO1xyXG4gIHRhZ3MuZm9yRWFjaCgodGFnKSA9PiB7XHJcbiAgICBjbWQgKz0gXCIoPyw/KVwiO1xyXG4gIH0pO1xyXG4gIHJldHVybiBjbWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgZnVuY3Rpb25QYXJhbXMge1xyXG4gIHRhYmxlOiBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZDtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSB3cml0ZURCcGFyYW1ze1xyXG4gIG5hbWU6IHN0cmluZyB8IHN0cmluZ1tdIHwgdW5kZWZpbmVkO1xyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZDtcclxuICB0aW1lOiBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZDtcclxuICBkYXRlOiBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZDtcclxuICByYXRpbmc6IHN0cmluZyB8IHN0cmluZ1tdIHwgdW5kZWZpbmVkO1xyXG4gIHBlcnNvbnNfaWQ6IHN0cmluZyB8IHN0cmluZ1tdIHwgdW5kZWZpbmVkO1xyXG4gIGxhbmd1YWdlOiBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZDtcclxuICB0YWdzPzogW3tuYW1lOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcsIGNvbG9yOiBzdHJpbmd9XTtcclxuICB0YWdzX2lkPzogbnVtYmVyW107XHJcbn1cclxuIl0sIm5hbWVzIjpbInNxbGl0ZTMiLCJvcGVuIiwiZGVmVmFsdWVzIiwicmVhZERCIiwidGFibGUiLCJwZXJzb25zX2lkIiwic29ydCIsImRiIiwib3BlbkRCIiwiY21wbHQiLCJsb2dzQXJyIiwiYWxsIiwiYnkiLCJvcmRlciIsImkiLCJsZW5ndGgiLCJwdXNoIiwibG9nIiwidGFncyIsImlkIiwiaW5zZXJ0REIiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJ0aW1lIiwiZGF0ZSIsInJhdGluZyIsImxhbmd1YWdlIiwidGFnc19pZCIsImNvbnNvbGUiLCJyZXN1bHRMb2ciLCJydW4iLCJyZXN1bHQiLCJsYXN0SUQiLCJBYXJyIiwiY21kQyIsImNydENtZCIsInJlc3VsdFRhZyIsIlRjbWQiLCJUYXJyIiwiQWNtZCIsImNtZCIsImNydFRBY21kIiwiZmlsZW5hbWUiLCJkYXRhYmFzZU5hbWUiLCJkcml2ZXIiLCJEYXRhYmFzZSIsImZvckVhY2giLCJ0YWciLCJjb2xvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./DB_functions/DB_log_funcs.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/persons/logs/[id]/index.exp.ts":
/*!******************************************************!*\
  !*** ./src/pages/api/persons/logs/[id]/index.exp.ts ***!
  \******************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RWllogs)\n/* harmony export */ });\n/* harmony import */ var _DB_functions_DB_log_funcs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../DB_functions/DB_log_funcs */ \"(api)/./DB_functions/DB_log_funcs.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_DB_functions_DB_log_funcs__WEBPACK_IMPORTED_MODULE_0__]);\n_DB_functions_DB_log_funcs__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nasync function RWllogs(req, res) {\n    try {\n        if (req.method === \"GET\") {\n            let sort = req.query.sort;\n            let order = req.query.order;\n            if (order != \"asc\" && order != \"desc\") order = undefined;\n            if (sort != \"time\" && sort != \"rating\" && sort != \"date\") sort = undefined;\n            const data = await (0,_DB_functions_DB_log_funcs__WEBPACK_IMPORTED_MODULE_0__.readDB)({\n                table: \"logs\"\n            }, {\n                persons_id: req.query.id,\n                sort: {\n                    by: sort,\n                    order: order\n                }\n            });\n            if (data) res.status(200).json(data);\n            else res.status(500).json({\n                message: \"error\"\n            });\n        } else if (req.method === \"POST\") {\n            const result = await (0,_DB_functions_DB_log_funcs__WEBPACK_IMPORTED_MODULE_0__.insertDB)({\n                table: \"logs\"\n            }, {\n                name: req.body.name,\n                description: req.body.description,\n                time: req.body.time,\n                date: req.body.date,\n                rating: req.query.rating,\n                persons_id: req.query.id,\n                language: req.body.language,\n                tags: req.body.tags,\n                tags_id: req.body.tags_id\n            });\n            if (result == 1) res.status(500).json({\n                message: \"error\"\n            });\n            else if (result) res.status(201).json(result);\n            else res.status(500).json({\n                message: \"error\"\n            });\n        } else {\n            res.status(405).json({\n                message: \"Method Not Allowed\"\n            });\n        }\n    } catch (error) {\n        res.status(400).json({\n            error: error,\n            message: \"Probably wrong data in body\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL3BlcnNvbnMvbG9ncy9baWRdL2luZGV4LmV4cC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUMrRTtBQUVoRSxlQUFlRSxRQUM1QkMsR0FBbUIsRUFDbkJDLEdBQW9CLEVBQ3BCO0lBQ0EsSUFBSTtRQUNGLElBQUdELElBQUlFLE1BQU0sS0FBSyxPQUFNO1lBQ3RCLElBQUlDLE9BQU9ILElBQUlJLEtBQUssQ0FBQ0QsSUFBSTtZQUN6QixJQUFJRSxRQUFRTCxJQUFJSSxLQUFLLENBQUNDLEtBQUs7WUFDM0IsSUFBR0EsU0FBUyxTQUFTQSxTQUFTLFFBQVFBLFFBQVFDO1lBQzlDLElBQUdILFFBQVEsVUFBVUEsUUFBUSxZQUFZQSxRQUFPLFFBQVFBLE9BQU9HO1lBQy9ELE1BQU1DLE9BQU8sTUFBTVQsa0VBQU1BLENBQUM7Z0JBQUNVLE9BQU87WUFBTSxHQUFHO2dCQUFDQyxZQUFZVCxJQUFJSSxLQUFLLENBQUNNLEVBQUU7Z0JBQUVQLE1BQU07b0JBQUNRLElBQUlSO29CQUFNRSxPQUFPQTtnQkFBSztZQUFDO1lBQ3BHLElBQUdFLE1BQU1OLElBQUlXLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUNOO2lCQUN6Qk4sSUFBSVcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBQ0MsU0FBUztZQUFPO1FBQzNDLE9BQU0sSUFBR2QsSUFBSUUsTUFBTSxLQUFLLFFBQU87WUFDN0IsTUFBTWEsU0FBUyxNQUFNbEIsb0VBQVFBLENBQUM7Z0JBQUNXLE9BQU87WUFBTSxHQUFHO2dCQUFDUSxNQUFNaEIsSUFBSWlCLElBQUksQ0FBQ0QsSUFBSTtnQkFBRUUsYUFBYWxCLElBQUlpQixJQUFJLENBQUNDLFdBQVc7Z0JBQUVDLE1BQU1uQixJQUFJaUIsSUFBSSxDQUFDRSxJQUFJO2dCQUFFQyxNQUFNcEIsSUFBSWlCLElBQUksQ0FBQ0csSUFBSTtnQkFBRUMsUUFBUXJCLElBQUlJLEtBQUssQ0FBQ2lCLE1BQU07Z0JBQUVaLFlBQVlULElBQUlJLEtBQUssQ0FBQ00sRUFBRTtnQkFBRVksVUFBVXRCLElBQUlpQixJQUFJLENBQUNLLFFBQVE7Z0JBQUVDLE1BQU12QixJQUFJaUIsSUFBSSxDQUFDTSxJQUFJO2dCQUFFQyxTQUFTeEIsSUFBSWlCLElBQUksQ0FBQ08sT0FBTztZQUFBO1lBQ2pSLElBQUdULFVBQVUsR0FBR2QsSUFBSVcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBQ0MsU0FBUztZQUFPO2lCQUNqRCxJQUFHQyxRQUFRZCxJQUFJVyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDRTtpQkFDaENkLElBQUlXLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUNDLFNBQVM7WUFBTztRQUU3QyxPQUFLO1lBQ0hiLElBQUlXLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLFNBQVM7WUFBcUI7UUFDdkQsQ0FBQztJQUNMLEVBQUUsT0FBT1csT0FBTztRQUNkeEIsSUFBSVcsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFDWSxPQUFPQTtZQUFPWCxTQUFTO1FBQTZCO0lBQzVFO0FBRUYsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QvLi9zcmMvcGFnZXMvYXBpL3BlcnNvbnMvbG9ncy9baWRdL2luZGV4LmV4cC50cz8xNDMyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tIFwibmV4dFwiO1xyXG5pbXBvcnQgeyBpbnNlcnREQiwgcmVhZERCIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uLy4uL0RCX2Z1bmN0aW9ucy9EQl9sb2dfZnVuY3NcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIFJXbGxvZ3MoXHJcbiAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcclxuICByZXM6IE5leHRBcGlSZXNwb25zZVxyXG4pIHtcclxuICB0cnkge1xyXG4gICAgaWYocmVxLm1ldGhvZCA9PT0gXCJHRVRcIil7XHJcbiAgICAgIGxldCBzb3J0ID0gcmVxLnF1ZXJ5LnNvcnQ7XHJcbiAgICAgIGxldCBvcmRlciA9IHJlcS5xdWVyeS5vcmRlcjtcclxuICAgICAgaWYob3JkZXIgIT0gXCJhc2NcIiAmJiBvcmRlciAhPSBcImRlc2NcIikgb3JkZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgIGlmKHNvcnQgIT0gXCJ0aW1lXCIgJiYgc29ydCAhPSBcInJhdGluZ1wiICYmIHNvcnQgIT1cImRhdGVcIikgc29ydCA9IHVuZGVmaW5lZDtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlYWREQih7dGFibGU6IFwibG9nc1wifSwge3BlcnNvbnNfaWQ6IHJlcS5xdWVyeS5pZCwgc29ydDoge2J5OiBzb3J0LCBvcmRlcjogb3JkZXJ9fSk7XHJcbiAgICAgIGlmKGRhdGEpIHJlcy5zdGF0dXMoMjAwKS5qc29uKGRhdGEpO1xyXG4gICAgICBlbHNlIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOiBcImVycm9yXCJ9KTtcclxuICAgICAgfWVsc2UgaWYocmVxLm1ldGhvZCA9PT0gXCJQT1NUXCIpe1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGluc2VydERCKHt0YWJsZTogXCJsb2dzXCJ9LCB7bmFtZTogcmVxLmJvZHkubmFtZSwgZGVzY3JpcHRpb246IHJlcS5ib2R5LmRlc2NyaXB0aW9uLCB0aW1lOiByZXEuYm9keS50aW1lLCBkYXRlOiByZXEuYm9keS5kYXRlLCByYXRpbmc6IHJlcS5xdWVyeS5yYXRpbmcsIHBlcnNvbnNfaWQ6IHJlcS5xdWVyeS5pZCwgbGFuZ3VhZ2U6IHJlcS5ib2R5Lmxhbmd1YWdlLCB0YWdzOiByZXEuYm9keS50YWdzLCB0YWdzX2lkOiByZXEuYm9keS50YWdzX2lkfSk7XHJcbiAgICAgICAgaWYocmVzdWx0ID09IDEpIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOiBcImVycm9yXCJ9KTtcclxuICAgICAgICBlbHNlIGlmKHJlc3VsdCkgcmVzLnN0YXR1cygyMDEpLmpzb24ocmVzdWx0KTtcclxuICAgICAgICBlbHNlIHJlcy5zdGF0dXMoNTAwKS5qc29uKHttZXNzYWdlOiBcImVycm9yXCJ9KTtcclxuICAgICAgICBcclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBtZXNzYWdlOiBcIk1ldGhvZCBOb3QgQWxsb3dlZFwiIH0pO1xyXG4gICAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtlcnJvcjogZXJyb3IsIG1lc3NhZ2U6IFwiUHJvYmFibHkgd3JvbmcgZGF0YSBpbiBib2R5XCJ9KTtcclxuICB9XHJcblxyXG59Il0sIm5hbWVzIjpbImluc2VydERCIiwicmVhZERCIiwiUldsbG9ncyIsInJlcSIsInJlcyIsIm1ldGhvZCIsInNvcnQiLCJxdWVyeSIsIm9yZGVyIiwidW5kZWZpbmVkIiwiZGF0YSIsInRhYmxlIiwicGVyc29uc19pZCIsImlkIiwiYnkiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInJlc3VsdCIsIm5hbWUiLCJib2R5IiwiZGVzY3JpcHRpb24iLCJ0aW1lIiwiZGF0ZSIsInJhdGluZyIsImxhbmd1YWdlIiwidGFncyIsInRhZ3NfaWQiLCJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/persons/logs/[id]/index.exp.ts\n");

/***/ }),

/***/ "(api)/./config.json":
/*!*********************!*\
  !*** ./config.json ***!
  \*********************/
/***/ ((module) => {

module.exports = JSON.parse('{"databaseName":"mydb.sqlite"}');

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./src/pages/api/persons/logs/[id]/index.exp.ts"));
module.exports = __webpack_exports__;

})();